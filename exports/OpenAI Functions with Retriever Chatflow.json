{"nodes":[{"width":300,"height":525,"id":"chatOpenAI_0","position":{"x":1772.4217611864826,"y":772.1290592917389},"type":"customNode","data":{"id":"chatOpenAI_0","label":"ChatOpenAI","version":1,"name":"chatOpenAI","type":"ChatOpenAI","baseClasses":["ChatOpenAI","BaseChatModel","BaseLanguageModel"],"category":"Chat Models","description":"Wrapper around OpenAI large language models that use the Chat endpoint","inputParams":[{"label":"Connect Credential","name":"credential","type":"credential","credentialNames":["openAIApi"],"id":"chatOpenAI_0-input-credential-credential"},{"label":"Model Name","name":"modelName","type":"options","options":[{"label":"gpt-4","name":"gpt-4"},{"label":"gpt-4-0613","name":"gpt-4-0613"},{"label":"gpt-4-32k","name":"gpt-4-32k"},{"label":"gpt-4-32k-0613","name":"gpt-4-32k-0613"},{"label":"gpt-3.5-turbo","name":"gpt-3.5-turbo"},{"label":"gpt-3.5-turbo-0613","name":"gpt-3.5-turbo-0613"},{"label":"gpt-3.5-turbo-16k","name":"gpt-3.5-turbo-16k"},{"label":"gpt-3.5-turbo-16k-0613","name":"gpt-3.5-turbo-16k-0613"}],"default":"gpt-3.5-turbo","optional":true,"id":"chatOpenAI_0-input-modelName-options"},{"label":"Temperature","name":"temperature","type":"number","default":0.9,"optional":true,"id":"chatOpenAI_0-input-temperature-number"},{"label":"Max Tokens","name":"maxTokens","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-maxTokens-number"},{"label":"Top Probability","name":"topP","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-topP-number"},{"label":"Frequency Penalty","name":"frequencyPenalty","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-frequencyPenalty-number"},{"label":"Presence Penalty","name":"presencePenalty","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-presencePenalty-number"},{"label":"Timeout","name":"timeout","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-timeout-number"},{"label":"BasePath","name":"basepath","type":"string","optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-basepath-string"}],"inputAnchors":[],"inputs":{"modelName":"gpt-4-0613","temperature":"0","maxTokens":"256","topP":"","frequencyPenalty":"","presencePenalty":"","timeout":"","basepath":""},"outputAnchors":[{"id":"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel","name":"chatOpenAI","label":"ChatOpenAI","type":"ChatOpenAI | BaseChatModel | BaseLanguageModel"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":1772.4217611864826,"y":772.1290592917389},"dragging":false},{"width":300,"height":330,"id":"openAIEmbeddings_0","position":{"x":918.8917440202209,"y":-222.3591234573341},"type":"customNode","data":{"id":"openAIEmbeddings_0","label":"OpenAI Embeddings","version":1,"name":"openAIEmbeddings","type":"OpenAIEmbeddings","baseClasses":["OpenAIEmbeddings","Embeddings"],"category":"Embeddings","description":"OpenAI API to generate embeddings for a given text","inputParams":[{"label":"Connect Credential","name":"credential","type":"credential","credentialNames":["openAIApi"],"id":"openAIEmbeddings_0-input-credential-credential"},{"label":"Strip New Lines","name":"stripNewLines","type":"boolean","optional":true,"additionalParams":true,"id":"openAIEmbeddings_0-input-stripNewLines-boolean"},{"label":"Batch Size","name":"batchSize","type":"number","optional":true,"additionalParams":true,"id":"openAIEmbeddings_0-input-batchSize-number"},{"label":"Timeout","name":"timeout","type":"number","optional":true,"additionalParams":true,"id":"openAIEmbeddings_0-input-timeout-number"},{"label":"BasePath","name":"basepath","type":"string","optional":true,"additionalParams":true,"id":"openAIEmbeddings_0-input-basepath-string"}],"inputAnchors":[],"inputs":{"stripNewLines":"","batchSize":"","timeout":"","basepath":""},"outputAnchors":[{"id":"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings","name":"openAIEmbeddings","label":"OpenAIEmbeddings","type":"OpenAIEmbeddings | Embeddings"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":918.8917440202209,"y":-222.3591234573341},"dragging":false},{"width":300,"height":506,"id":"pineconeExistingIndex_0","position":{"x":1362.0018461011314,"y":-334.0373537488481},"type":"customNode","data":{"id":"pineconeExistingIndex_0","label":"Pinecone Load Existing Index","version":1,"name":"pineconeExistingIndex","type":"Pinecone","baseClasses":["Pinecone","VectorStoreRetriever","BaseRetriever"],"category":"Vector Stores","description":"Load existing index from Pinecone (i.e: Document has been upserted)","inputParams":[{"label":"Connect Credential","name":"credential","type":"credential","credentialNames":["pineconeApi"],"id":"pineconeExistingIndex_0-input-credential-credential"},{"label":"Pinecone Index","name":"pineconeIndex","type":"string","id":"pineconeExistingIndex_0-input-pineconeIndex-string"},{"label":"Pinecone Namespace","name":"pineconeNamespace","type":"string","placeholder":"my-first-namespace","additionalParams":true,"optional":true,"id":"pineconeExistingIndex_0-input-pineconeNamespace-string"},{"label":"Pinecone Metadata Filter","name":"pineconeMetadataFilter","type":"json","optional":true,"additionalParams":true,"id":"pineconeExistingIndex_0-input-pineconeMetadataFilter-json"},{"label":"Top K","name":"topK","description":"Number of top results to fetch. Default to 4","placeholder":"4","type":"number","additionalParams":true,"optional":true,"id":"pineconeExistingIndex_0-input-topK-number"}],"inputAnchors":[{"label":"Embeddings","name":"embeddings","type":"Embeddings","id":"pineconeExistingIndex_0-input-embeddings-Embeddings"}],"inputs":{"embeddings":"{{openAIEmbeddings_0.data.instance}}","pineconeIndex":"qawndata","pineconeNamespace":"","pineconeMetadataFilter":"","topK":""},"outputAnchors":[{"name":"output","label":"Output","type":"options","options":[{"id":"pineconeExistingIndex_0-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever","name":"retriever","label":"Pinecone Retriever","type":"Pinecone | VectorStoreRetriever | BaseRetriever"},{"id":"pineconeExistingIndex_0-output-vectorStore-Pinecone|VectorStore","name":"vectorStore","label":"Pinecone Vector Store","type":"Pinecone | VectorStore"}],"default":"retriever"}],"outputs":{"output":"retriever"},"selected":false},"selected":false,"positionAbsolute":{"x":1362.0018461011314,"y":-334.0373537488481},"dragging":false},{"width":300,"height":506,"id":"retrieverTool_0","position":{"x":1766.2759846511835,"y":-348.25259566928884},"type":"customNode","data":{"id":"retrieverTool_0","label":"Retriever Tool","version":1,"name":"retrieverTool","type":"RetrieverTool","baseClasses":["RetrieverTool","DynamicTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use a retriever as allowed tool for agent","inputParams":[{"label":"Retriever Name","name":"name","type":"string","placeholder":"search_state_of_union","id":"retrieverTool_0-input-name-string"},{"label":"Retriever Description","name":"description","type":"string","description":"When should agent uses to retrieve documents","rows":3,"placeholder":"Searches and returns documents regarding the state-of-the-union.","id":"retrieverTool_0-input-description-string"}],"inputAnchors":[{"label":"Retriever","name":"retriever","type":"BaseRetriever","id":"retrieverTool_0-input-retriever-BaseRetriever"}],"inputs":{"name":"search_qawn","description":"Search for information related to Qawn","retriever":"{{pineconeExistingIndex_0.data.instance}}"},"outputAnchors":[{"id":"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable","name":"retrieverTool","label":"RetrieverTool","type":"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false},"selected":false,"dragging":false,"positionAbsolute":{"x":1766.2759846511835,"y":-348.25259566928884}},{"width":300,"height":385,"id":"openAIFunctionAgent_0","position":{"x":2407.188682770655,"y":424.5826506214245},"type":"customNode","data":{"id":"openAIFunctionAgent_0","label":"OpenAI Function Agent","version":1,"name":"openAIFunctionAgent","type":"AgentExecutor","baseClasses":["AgentExecutor","BaseChain","Runnable"],"category":"Agents","description":"An agent that uses OpenAI's Function Calling functionality to pick the tool and args to call","inputParams":[{"label":"System Message","name":"systemMessage","type":"string","rows":4,"optional":true,"additionalParams":true,"id":"openAIFunctionAgent_0-input-systemMessage-string"}],"inputAnchors":[{"label":"Allowed Tools","name":"tools","type":"Tool","list":true,"id":"openAIFunctionAgent_0-input-tools-Tool"},{"label":"Memory","name":"memory","type":"BaseChatMemory","id":"openAIFunctionAgent_0-input-memory-BaseChatMemory"},{"label":"OpenAI Chat Model","name":"model","description":"Only works with gpt-3.5-turbo-0613 and gpt-4-0613. Refer <a target=\"_blank\" href=\"https://platform.openai.com/docs/guides/gpt/function-calling\">docs</a> for more info","type":"BaseChatModel","id":"openAIFunctionAgent_0-input-model-BaseChatModel"}],"inputs":{"tools":["{{retrieverTool_0.data.instance}}","{{customTool_0.data.instance}}","{{customTool_1.data.instance}}"],"memory":"{{bufferWindowMemory_0.data.instance}}","model":"{{chatOpenAI_0.data.instance}}","systemMessage":"Assistnat is a helpful Qawn assistant. Having a conversation with a user about Qawn.\n\nThe assistant will attempt to respond to messages related to Qawn while refraining from responding to messages unrelated to Qawn.\n\nThe assistant will use search_qawn function to look up answers about Qawn.\n\nIf the assistant doesn't know the answer from the provided context, they can respond with, \"Hm, I do not know the answer\".\n\nThe assistant will refrain from making up answers.\n\nExample 1:\n\nUser: What is Qawn?\n\nAssistant: Qawn is a social payment app developed by Jordan Ahli Bank, it simplifies your financial transactions while keeping you connected with your friends. Whether you're splitting bills or sending money to your loved ones, Qawn has got you covered with its easy-to-use payment features\n\nExample 2:\n\nUser: What is Play Store?\n\nAssistant: I'm here to help with Qawn-related questions. What would you like to know about Qawn?\n\nExample 3:\n\nUser: Who can open an account?\n\n<Lookup answers from search_qawn>\n\nAssistant: \nYou can join Qawn app if you are: \n1) Jordanian\n2) Have valid Jordanian ID\n3) Above 18 years old\n\nQawn Information:\nSupport number is: 065206006\nEmail: info@qawn.com"},"outputAnchors":[{"id":"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable","name":"openAIFunctionAgent","label":"AgentExecutor","type":"AgentExecutor | BaseChain | Runnable"}],"outputs":{},"selected":false},"positionAbsolute":{"x":2407.188682770655,"y":424.5826506214245},"selected":false,"dragging":false},{"width":300,"height":476,"id":"bufferWindowMemory_0","position":{"x":1769.3060085456561,"y":237.0443018361069},"type":"customNode","data":{"id":"bufferWindowMemory_0","label":"Buffer Window Memory","version":1,"name":"bufferWindowMemory","type":"BufferWindowMemory","baseClasses":["BufferWindowMemory","BaseChatMemory","BaseMemory"],"category":"Memory","description":"Uses a window of size k to surface the last k back-and-forths to use as memory","inputParams":[{"label":"Memory Key","name":"memoryKey","type":"string","default":"chat_history","id":"bufferWindowMemory_0-input-memoryKey-string"},{"label":"Input Key","name":"inputKey","type":"string","default":"input","id":"bufferWindowMemory_0-input-inputKey-string"},{"label":"Size","name":"k","type":"number","default":"4","description":"Window of size k to surface the last k back-and-forths to use as memory.","id":"bufferWindowMemory_0-input-k-number"}],"inputAnchors":[],"inputs":{"memoryKey":"chat_history","inputKey":"input","k":"4"},"outputAnchors":[{"id":"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory","name":"bufferWindowMemory","label":"BufferWindowMemory","type":"BufferWindowMemory | BaseChatMemory | BaseMemory"}],"outputs":{},"selected":false},"selected":false,"dragging":false,"positionAbsolute":{"x":1769.3060085456561,"y":237.0443018361069}},{"width":300,"height":278,"id":"customTool_0","position":{"x":1760.704079175101,"y":-765.0587395894617},"type":"customNode","data":{"id":"customTool_0","label":"Custom Tool","version":1,"name":"customTool","type":"CustomTool","baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","inputParams":[{"label":"Select Tool","name":"selectedTool","type":"asyncOptions","loadMethod":"listTools","id":"customTool_0-input-selectedTool-asyncOptions"}],"inputAnchors":[],"inputs":{"selectedTool":"8bd8367c-7444-485d-aa77-9aeeafc1ad72"},"outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","name":"customTool","label":"CustomTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":1760.704079175101,"y":-765.0587395894617},"dragging":false},{"width":300,"height":278,"id":"customTool_1","position":{"x":1748.2437148678703,"y":-1161.9778697307152},"type":"customNode","data":{"id":"customTool_1","label":"Custom Tool","version":1,"name":"customTool","type":"CustomTool","baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","inputParams":[{"label":"Select Tool","name":"selectedTool","type":"asyncOptions","loadMethod":"listTools","id":"customTool_1-input-selectedTool-asyncOptions"}],"inputAnchors":[],"inputs":{"selectedTool":"2f6a8537-fc32-4084-aca6-45107160a064"},"outputAnchors":[{"id":"customTool_1-output-customTool-CustomTool|Tool|StructuredTool|Runnable","name":"customTool","label":"CustomTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":1748.2437148678703,"y":-1161.9778697307152},"dragging":false}],"edges":[{"source":"openAIEmbeddings_0","sourceHandle":"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings","target":"pineconeExistingIndex_0","targetHandle":"pineconeExistingIndex_0-input-embeddings-Embeddings","type":"buttonedge","id":"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-pineconeExistingIndex_0-pineconeExistingIndex_0-input-embeddings-Embeddings","data":{"label":""}},{"source":"pineconeExistingIndex_0","sourceHandle":"pineconeExistingIndex_0-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever","target":"retrieverTool_0","targetHandle":"retrieverTool_0-input-retriever-BaseRetriever","type":"buttonedge","id":"pineconeExistingIndex_0-pineconeExistingIndex_0-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever","data":{"label":""}},{"source":"retrieverTool_0","sourceHandle":"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable","target":"openAIFunctionAgent_0","targetHandle":"openAIFunctionAgent_0-input-tools-Tool","type":"buttonedge","id":"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool","data":{"label":""}},{"source":"chatOpenAI_0","sourceHandle":"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel","target":"openAIFunctionAgent_0","targetHandle":"openAIFunctionAgent_0-input-model-BaseChatModel","type":"buttonedge","id":"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-BaseChatModel","data":{"label":""}},{"source":"bufferWindowMemory_0","sourceHandle":"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory","target":"openAIFunctionAgent_0","targetHandle":"openAIFunctionAgent_0-input-memory-BaseChatMemory","type":"buttonedge","id":"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory","data":{"label":""}},{"source":"customTool_0","sourceHandle":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","target":"openAIFunctionAgent_0","targetHandle":"openAIFunctionAgent_0-input-tools-Tool","type":"buttonedge","id":"customTool_0-customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool","data":{"label":""}},{"source":"customTool_1","sourceHandle":"customTool_1-output-customTool-CustomTool|Tool|StructuredTool|Runnable","target":"openAIFunctionAgent_0","targetHandle":"openAIFunctionAgent_0-input-tools-Tool","type":"buttonedge","id":"customTool_1-customTool_1-output-customTool-CustomTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool","data":{"label":""}}]}